<!DOCTYPE html>
<html lang="lv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Assistant with Whisper (Transformers.js)</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="main-container">
        <!-- Song list on the left side -->
        <div class="song-list-container">
            <h3>Pieejamās dziesmas</h3>
            <ul id="songList" class="song-list">
                <!-- Songs will be populated by JavaScript -->
            </ul>
        </div>

        <!-- Active song and fragments in the middle -->
        <div class="audio-player-container">
            <div class="active-song-panel">
                <h3 id="activeSongTitle">Izvēlieties dziesmu</h3>
                <div class="player-controls">
                    <span class="control-btn" id="playPauseBtn">▶️</span>
                    <span class="control-btn" id="stopBtn">⏹️</span>
                </div>
                <div class="progress-container">
                    <div id="progressBar" class="progress-bar"></div>
                </div>
                <div id="songTimer" class="song-timer">00:00 / 00:00</div>
            </div>

            <div class="fragments-container">
                <h3>Pieejamie fragmenti</h3>
                <div id="fragmentsList" class="fragments-list">
                    <!-- Fragments will be populated by JavaScript -->
                </div>
            </div>

            <!-- Audio element (hidden) -->
            <audio id="mainAudio"></audio>
        </div>

        <!-- Right side control panel -->
        <div class="control-panel">
            <div class="header">
                <div class="profile-icon">
                    <div class="folk-pattern"></div>
                </div>
                <div class="title">Aivars - mūzikas asistents (Whisper.js)</div>
                <div class="menu-icon">⋮</div>
            </div>

            <div class="visualization">
                <div class="clock">
                    <div class="clock-center"></div>
                    <div class="hour-hand"></div>
                    <div class="minute-hand"></div>
                    <div class="second-hand"></div>
                    <div class="time-marks" style="--rotation: 0deg"></div>
                    <div class="time-marks" style="--rotation: 30deg"></div>
                    <div class="time-marks" style="--rotation: 60deg"></div>
                    <div class="time-marks" style="--rotation: 90deg"></div>
                    <div class="time-marks" style="--rotation: 120deg"></div>
                    <div class="time-marks" style="--rotation: 150deg"></div>
                    <div class="time-marks" style="--rotation: 180deg"></div>
                    <div class="time-marks" style="--rotation: 210deg"></div>
                    <div class="time-marks" style="--rotation: 240deg"></div>
                    <div class="time-marks" style="--rotation: 270deg"></div>
                    <div class="time-marks" style="--rotation: 300deg"></div>
                    <div class="time-marks" style="--rotation: 330deg"></div>
                </div>
                <div id="systemMonitor" class="system-monitor"></div>
            </div>

            <div id="statusText" class="status">
                Ielādējam Whisper modeli...
            </div>

            <div class="logs">
                <div class="tab-container">
                    <div class="tab active">Sarunas logs</div>
                    <div class="tab">Sistēmas logs</div>
                </div>
                <div id="chatLog" class="log">
                    <div class="date-separator">Vadības instrukcija (Whisper.js)</div>
                    <div class="message-group assistant">
                        <div class="avatar">
                            <div class="folk-pattern"></div>
                        </div>
                        <div class="message">Aktivizējiet mikrofonu, lai sāktu</div>
                        <div class="time">----------</div>
                    </div>
                    <div class="message-group user">
                        <div class="message">Whisper modelis ielādējas automātiski</div>
                        <div class="time">----------</div>
                        <div class="avatar user-avatar"></div>
                    </div>
                    <div class="message-group user">
                        <div class="message">Pirmā ielāde var aizņemt 1-2 minūtes</div>
                        <div class="time">----------</div>
                        <div class="avatar user-avatar"></div>
                    </div>
                    <div class="message-group user">
                        <div class="message">Sakiet "Aivar" lai aktivizētu</div>
                        <div class="time">----------</div>
                        <div class="avatar user-avatar"></div>
                    </div>
                </div>
                <div id="systemLog" class="log" style="display: none;"></div>
            </div>

            <div class="input-section">
                <select id="audioDeviceSelect" class="audio-device-select"></select>
                <span class="mic-btn">🎤</span>
                <input type="text" id="textInput" class="text-input" placeholder="Rakstiet šeit...">
                <span class="stop-btn">Stop</span>
                <span class="send-btn">Sūtīt</span>
            </div>
        </div>
    </div>
    
    <script type="module" src="main.js"></script>
</body>
</html>